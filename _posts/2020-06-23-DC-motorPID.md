---
layout: post
title: "Creating a PID Controller for DC Motor using Arduino"
date: 2020-06-23
tags: [Arduino, DC Motors, Quadrature Encoders, PID Controller, Robotics]
excerpt: "DC Motors, Quadrature Encoder, Arduino"
---

## Written by: Andres Cuenca



### Introduction


### Materials for this project
For this project the following materials were purchased
* 1 Arduino Uno Microcontroller
* 1 DC Motor with quadrature encoder
* 1 L298N H-Bridge (motor driver)
* 1 Breadboard
* 1 12V Power Supply
* some wires for proper connection
* Also, used an Arduino IDE to compile and test code (more to that later)

### Background on PID Controller





### Flowchart of PID Controller



This flowchart provides a reference on how to determine the logic setup to establish
the direction rotation of the DC motor shaft. In order to determine the rotation direction,
a global variable is applied for keeping track of the rectangular pulses generated by the
optical sensor. The left side of the flowchart determines that the shaft of the DC motor
is rotating clockwise, which means channel A is leading channel B by 90 degrees; and vice-versa
if the DC motor shaft rotates counterclockwise.


### Wiring Connections
<img src="{{ site.url }}{{ site.baseurl }}/images/DCmotor/dcMotorWiring.jpg" alt="">

Simple Wiring Connections

* A 12V voltage supply will be directly connected to 12V and GND pins of the L298N-motor driver
* Arduino pins 6,7 and 8 will be connected to l298N motor driver pins ENA, IN1, and IN2
* 5V Arduino pin connects to the Quadrature sensor 5V pin
* DC Motor Negative Polarity is wired to L298N motor driver pin OUT2
* DC Motor Positive Polarity is wIRed to L298N motor driver pin OUT1
* Arduino pins 2 and 3 will be connected to the DC motor encoders A and B, respectively.
* DC motor GND will share common ground to the Arduino, 12V power supply and motor driver.  

### Arduino Code
